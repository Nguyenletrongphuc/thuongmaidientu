<!DOCTYPE html>
<html lang="vn">
<head>
    <title>Sách Ơi - Home</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="asset/base.css">
    <link rel="stylesheet" type="text/css" href="asset/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Dancing Script:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="asset/img/themify-icons-font/themify-icons/themify-icons.css">
    <script src="asset/dongbodangnhap.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="grid">
                <nav class="header__navbar ">
                    <ul class="header__nav-list">
                        <li class="header__nav-item phancach">Vào cửa hàng trên ứng dụng</li>
                        <li class="header__nav-item">Kết nối
                            <a href="https://facebook.com" class="nav-item__icon">
                                <i class="ti-facebook"></i>
                            </a>
                            <a href="https://instagram.com" class="nav-item__icon">
                                <i class="ti-instagram"></i>
                            </a>
                        </li>
                        <li class="header__nav-item hearder__thongbao__hien">
                            <a href="" class="nav-item__icon">
                                <i class="ti-bell"></i>
                                Thông báo
                            </a>
                            <div class="hearder_thongbao">
                                <header class="hearder_thongbao-head">
                                    <h3>Thông Báo Mới</h3>
                                </header>
                                <ul class="hearder_thongbao_list">
                                    <li class="hearder_thongbao_list_item">
                                        <a href="" class="hearder_thongbao_link">
                                            <img src="https://ischool.vn/wp-content/uploads/2022/12/nhung-cuon-sach-hay-cho-tre-10-tuoi-3.jpg" alt="">
                                        <div class="hearder_thongbao_info">
                                            <p class="hearder_thongbao_name">Sách trẻ em</p>
                                            <p class="hearder_thongbao_mota">Phù hợp cho tuổi 5-10</p>
                                        </div>
                                        </a>
                                    </li>
                                </ul>
                                <footer class="hearder_thongbao-footer">
                                    <a href="" class="hearder_thongbao-footer-btn">Xem tất cả</a>
                                </footer>
                            </div>
                        </li>
                        <li class="header__nav-item">
                            <a href="" class="nav-item__icon">
                                <i class="ti-help-alt"></i>
                                Trợ giúp
                            </a>
                        </li>
                        <li class="header__nav-item">
                            <a href="admin2084.html" id="adminLink" class="go-admin">Admin</a>
                        </li>

                    </ul>
                    <ul class="header__nav-list">
                        <li class="header__nav_user_btn">
                            <button class="signup custom-btn btn-9">
                             <a href="signup.html">Đăng Nhập/Đăng Ký</a>
                            </button>
                        </li>
                    </ul>
                </nav>
            </div>
            <!-- phan tim kiem -->
            <div class="grid__timkiem">
                <div class="header__logo">
                    <a href="index.html" class="header__logo-link">
                        <img src="asset/img/logo-removebg-preview.png" alt="" class="header__logo-img">
                    </a>
                </div>
                <form id="searchForm" class="header__search">
                    <input type="text" id="searchInput" class="header__search-input" placeholder="Tìm kiếm sản phẩm">
                    <button type="submit" class="header__search-btn">
                        <i class="ti-search"></i>
                    </button>
                </form>
                <div class="header__cart">
                    <a href="giohang.html " class="header__cart-link">
                        <i class="ti-shopping-cart"></i>
                    </a>
                    <div class="header__cart_list header__cart_list__none ">
                        <img src="https://lucaga.com/assets/images/no-cart.png" alt="no__cart" class="no__cart__img">
                    </div>
                    
                </div>
                
        </header>
        <div class="content">
            <div class="grid">
                <div class="grid_row">
                    <div class="grid_colum_2">
                        <nav class="catelory">
                            <ul class="catelory_list">
                                <h3 class="catelory_heading">
                                    <i class="ti-menu-alt"></i>
                                    Danh Mục</h3>
                                <li class="catelory_item">
                                    <a href="" class="catelory_link">Thời trang</a>
                                </li>
                                <li class="catelory_item">
                                    <a href="" class="catelory_link">Đồ gia dụng</a>
                                </li>
                                <li class="catelory_item">
                                    <a href="" class="catelory_link">Sách</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    <div class="grid_colum_10">
                        <div class="home_filter">
                            <Span class="home_filter_lable">Sắp xếp theo</Span>
                            <button class="home_file_button">Phổ biến</button>
                            <button class="home_file_button">Mới nhất </button>
                            <button class="home_file_button">Bán chạy</button>
                        </div>
                        <div class="home_product">
                            <div class="grid_row_2" id="product-list"></div>
                                
                            </div>
                        </div>
                    </div>
                    <ul class="pagination pagination_margin">
                        <li class="pagination_item">
                            <a href="" class="pagination_item_link">
                                <i class="ti-angle-left"></i>
                            </a>
                        </li>
                        <li class="pagination_item">
                            <a href="" class="pagination_item_link">1</a>
                        </li>
                        <li class="pagination_item pagination_item_active">
                            <a href="" class="pagination_item_link">2</a>
                        </li>
                        <li class="pagination_item">
                            <a href="" class="pagination_item_link">3</a>
                        </li>
                        <li class="pagination_item">
                            <a href="" class="pagination_item_link">...</a>
                        </li>
                        <li class="pagination_item">
                            <a href="" class="pagination_item_link">6</a>
                        </li>
                        <li class="pagination_item">
                            <a href="" class="pagination_item_link">
                                <i class="ti-angle-right"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer">
           <ul class="footer_list">
            <li class="footer_item">
                <h3>Thông tin liên hệ</h3>
                <p>&copy; Bản quyền thuộc về team đổ án 2025</p>
                <P>&phone;Thông tin liên hệ: 0334321797</P>
            </li>
            <li class="footer_item">
                <h3>Giới thiệu</h3>
                <p> Giới thiệu</p>
                <P>Điều khoản</P>
            </li>
           </ul>
        </div>
    </div>
    <script>document.addEventListener("DOMContentLoaded", async function () {
        try {
            const response = await fetch("http://localhost:5000/api/products/get-products");
            const products = await response.json();
    
            const productContainer = document.querySelector(".grid_row_2");
            productContainer.innerHTML = "";
            products.forEach(product => {
    const productHTML = `
        <div class="grid_colum_2_4">
            <div class="home_product_item" onclick="goToProductDetail('${product._id}')">
                <div class="home_product_item_img" style="background-image: url(${product.image});"></div>
                <h4 class="home_product_item_name">${product.name}</h4>
                <p class="home_product_item_price">Giá: ${product.price.toLocaleString("vi-VN")} vnđ</p>
                <div class="home_product_item_action">
                    <button class="add-to-cart-btn" onclick="event.stopPropagation(); addToCart(${JSON.stringify(product)})">
                        Thêm vào giỏ
                    </button>
                    <span class="like">
                        <i class="saled">${product.sold} Đã bán</i>
                    </span>
                </div>
            </div>
        </div>
    `;
    productContainer.innerHTML += productHTML;
});
    
    //         products.forEach(product => {
    //             const productHTML = `
    //                 <div class="grid_colum_2_4">
    //                     <div class="home_product_item">
    //                         <div class="home_product_item_img" style="background-image: url(${product.image});"></div>
    //                         <h4 class="home_product_item_name">${product.name}</h4>
    //                         <p class="home_product_item_price">Giá: ${product.price.toLocaleString("vi-VN")} vnđ</p>
    //                         <div class="home_product_item_action">
    //                             <button class="add-to-cart-btn" onclick='addToCart(${JSON.stringify(product)})'>
    //                                 Thêm vào giỏ
    //                             </button>
    //                             <span class="like">
    //                                 <i class="saled">${product.sold} Đã bán</i>
    //                             </span>
    //                         </div>
    //                     </div>
    //                 </div>
    //             `;
    //             productContainer.innerHTML += productHTML;
    //         });
    
        } catch (error) {
            console.error("Lỗi khi lấy sản phẩm:", error);
        }
    });</script>
     <script>
        window.addEventListener("DOMContentLoaded", function () {
          document.getElementById("searchForm").addEventListener("submit", function(e) {
            e.preventDefault();
            const query = document.getElementById("searchInput").value.trim();
            if (query) {
              window.location.href = `timkiem.html?query=${encodeURIComponent(query)}`;
            }
          });
        });
        </script>
    <script>
        function goToProductDetail(id) {
            window.location.href = `chitietsanpham.html?id=${id}`;
        }
        </script>
</body>
</html>